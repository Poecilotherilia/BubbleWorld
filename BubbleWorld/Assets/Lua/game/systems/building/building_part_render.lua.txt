---
--- Generated by libin
--- File name : building_part_render.lua.txt
--- DataTime : 2023/11/16
--- Description : 
---

local BuildingPart = cs.BuildingPart

---@class building_part_render
local building_part_render = class("building_part_render")

--region base api

---构造函数
---@protected
---@param obj UnityEngine.GameObject
---@param part_data building_part_data
function building_part_render:ctor(obj, part_data)
    self:update_render(obj, part_data)    
end

---销毁
---@public
function building_part_render:dispose()
    self.obj = nil
    self.part_data = nil
    self.cs_script = nil
end

---刷新建筑物渲染器
---@public
---@param obj UnityEngine.GameObject
---@param part_data building_part_data
function building_part_render:update_render(obj, part_data)
    ---@type UnityEngine.GameObject
    self.obj = obj
    ---@type building_part_data
    self.part_data = part_data
    if nil ~= self.obj then
        ---@type Game.Building.BuildingPart
        self.cs_script = self.obj:GetComponent(typeof(BuildingPart))
    end
end

--endregion

--region logic

---设置当前应用建筑物显隐
---@public
---@param is_active
function building_part_render:set_active(is_active)
    if nil ~= self.obj then
        self.obj:SetActiveEx(is_active)
    end
end

---获得建筑物类型
---@public
---@return string
function building_part_render:get_type()
    return self.part_data:get_type()
end

---播放更换特效
---@public
---@param immediately boolean
function building_part_render:play_change_effect(immediately)
    if nil ~= self.cs_script then
        self.cs_script:PlayChangeEffect(immediately)
    end
end

--endregion

return building_part_render