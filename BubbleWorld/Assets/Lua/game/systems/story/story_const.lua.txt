---
--- Generated by lvyuqiang
--- File name : story_const.lua.txt
--- DateTime : 2022/03/29
--- Description : 剧情常量
---

---@class story_const
local story_const = { cname = 'story_const' }
local t = tables
local data = data
local string = string
local tonumber = tonumber

---@return void
---@public
function story_const.init()
    story_const.role_points = {}
    local pos_pid_values = string.split(data.get(t.ConstClient.name, t.ConstClient.ids.KW_POINT_AVG_CHARACTER, t.ConstClient.properties.String), ',')
    for i = 1, #pos_pid_values do
        story_const.role_points[i] = data.get(t.Point.name, pos_pid_values[i])
    end

    local out_pid_values = string.split(data.get(t.ConstClient.name, t.ConstClient.ids.KW_POINT_AVG_CHARACTER_OUT, t.ConstClient.properties.String), ',')
    story_const.role_points_outside = { data.get(t.Point.name, out_pid_values[1]), data.get(t.Point.name, out_pid_values[2]), data.get(t.Point.name, out_pid_values[3]) }

    local pid = data.get(t.ConstClient.name, t.ConstClient.ids.KW_POINT_AVG_CAMERA, t.ConstClient.properties.String)
    story_const.role_camera_point = data.get(t.Point.name, pid)

    story_const.avg_text_speeds = {}
    local speed_values = string.split(data.get(t.ConstClient.name, t.ConstClient.ids.KW_AVG_TEXT_SPEED, t.ConstClient.properties.String), ',')
    for i = 1, #speed_values do
        story_const.avg_text_speeds[i] = tonumber(speed_values[i])
    end

    story_const.avg_auto_wait_duration = data.get(t.ConstClient.name, t.ConstClient.ids.KW_AVG_AUTO_TIME, t.ConstClient.properties.Int) / 1000    

    story_const.back_sprite_duration = data.get(t.ConstClient.name, t.ConstClient.ids.KW_AVG_BACKGROUND_SWITCH, t.ConstClient.properties.Int) / 1000
    story_const.actor_move_duration = data.get(t.ConstClient.name, t.ConstClient.ids.KW_AVG_MOVE_SPEED, t.ConstClient.properties.Int) / 1000
    story_const.bgm_fade_duration = data.get(t.ConstClient.name, t.ConstClient.ids.KW_AVG_BGM_GRADUALLY_TIME, t.ConstClient.properties.Int) / 1000
end

return story_const 