---
--- Generated by wuhaijun
--- File name : battle_systems.lua.txt
--- DateTime : 2021/04/20
--- Description : 
---

local helper = battle_helper

---@type listeners_system
local system_listener = require(helper.path.ecs .. 'system_listener')
---@type system_destroyed
local system_destroyed = require(helper.path.ecs .. 'system_destroyed')

---@type system_battle_step_before
local system_battle_step_before = require(helper.path.battle_step .. 'system_battle_step_before')
---@type system_battle_round
local system_battle_round = require(helper.path.battle_round .. 'system_battle_round')
---@type system_battle_skill
local system_battle_skill = require(helper.path.battle_skill .. 'system_battle_skill')

---@type system_battle_render_preload
local system_battle_render_preload = require(helper.path.battle_render .. 'system_battle_render_preload')
---@type system_battle_render_unit
local system_battle_render_unit = require(helper.path.battle_render .. 'system_battle_render_unit')
---@type system_battle_render_replace
local system_battle_render_replace = require(helper.path.battle_render .. 'system_battle_render_replace')
---@type system_battle_render_action
local system_battle_render_action = require(helper.path.battle_render .. 'system_battle_render_action')
---@type system_battle_render_effect_show
local system_battle_render_effect_show = require(helper.path.battle_render .. 'system_battle_render_effect_show')
---@type system_battle_render_material
local system_battle_render_material = require(helper.path.battle_render .. 'system_battle_render_material')
---@type system_battle_render_freeze_frame
local system_battle_render_shake_screen = require(helper.path.battle_render .. 'system_battle_render_shake_screen')
---@type system_battle_render_freeze_frame
local system_battle_render_freeze_frame = require(helper.path.battle_render .. 'system_battle_render_freeze_frame')
---@type system_battle_render_freeze_battle
local system_battle_render_freeze_battle = require(helper.path.battle_render .. 'system_battle_render_freeze_battle')
---@type system_battle_render_effect_remove
local system_battle_render_effect_remove = require(helper.path.battle_render .. 'system_battle_render_effect_remove')
---@type system_battle_render_closeup
local system_battle_render_closeup = require(helper.path.battle_render .. 'system_battle_render_closeup')
---@type system_battle_render_play_audio
local system_battle_render_play_audio = require(helper.path.battle_render .. 'system_battle_render_play_audio')
---@type system_battle_render_map
local system_battle_render_map = require(helper.path.battle_render .. 'system_battle_render_map')

---@type systems
local super = require(helper.path.ecs .. 'systems')

---@class battle_systems : systems
local battle_systems = class("battle_systems", super)

---构造函数
---@protected
---@param context context
function battle_systems:ctor(context)
    super.ctor(self, context)
end

---逻辑层
---@protected
function battle_systems:add_system(context)
    -- 战斗步骤
    self:add(system_battle_step_before.new(context))
    -- 回合系统
    self:add(system_battle_round.new(context))
    -- 技能系统
    self:add(system_battle_skill.new(context))

    -- 组件变化监听系统【保持在前面】
    self:add(system_listener.new(context))
    -- 销毁系统【保持在后面】
    self:add(system_destroyed.new(context))
end

---渲染层
---@protected
function battle_systems:add_render_system(context)
    self:add(system_battle_render_preload.new(context))
    self:add(system_battle_render_unit.new(context))
    self:add(system_battle_render_replace.new(context))
    self:add(system_battle_render_action.new(context))
    self:add(system_battle_render_closeup.new(context))
    self:add(system_battle_render_effect_remove.new(context))
    self:add(system_battle_render_effect_show.new(context))
    self:add(system_battle_render_material.new(context))
    self:add(system_battle_render_shake_screen.new(context))
    self:add(system_battle_render_freeze_frame.new(context))
    self:add(system_battle_render_freeze_battle.new(context))
    self:add(system_battle_render_play_audio.new(context))
    self:add(system_battle_render_map.new(context))
end

return battle_systems